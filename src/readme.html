<!--
  ~ Copyright 2023 Ignite Realtime Foundation
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
    <title>MUC Real-Time Block List Plugin Readme</title>
    <style type="text/css">
        BODY {
            font-size : 100%;
        }
        BODY, TD, TH {
            text-align: left;
            font-family : tahoma, verdana, arial, helvetica, sans-serif;
            font-size : 0.8em;
        }
        TABLE {
            padding-top: 1em;
            padding-left: 2em;
        }
        H2 {
             font-size : 10pt;
             font-weight : bold;
        }
        A:hover {
            text-decoration : none;
        }
        H1 {
            font-family : tahoma, arial, helvetica, sans-serif;
            font-size : 1.4em;
            font-weight: bold;
            border-bottom : 1px #ccc solid;
            padding-bottom : 2px;
        }

        TT {
            font-family : courier new;
            font-weight : bold;
            color : #060;
        }
        PRE {
            font-family : courier new;
            font-size : 100%;
        }
    </style>
</head>
<body>

<h1>MUC Real-Time Block List Plugin Readme</h1>

<h2>Overview</h2>

<p>
    This plugin automatically applies a block list to users joining a chat room. The block list is obtained from a
    Publish/Subscribe service. It is assumed that the pub/sub node contains one item per blocked JID. The item id
    should be the SHA256 hash of the JID to block. The payload is not currently used, but it is recommended to use
    a XEP-0377 report element as the payload. As entries are modified in the pub/sub node, the service-wide block list
    is updated automatically.
</p>
<p>
    Optionally, this plugin also blocks any stanzas sent by blocked entities to MUC rooms, and kicks an entity that is
    added to the block list (for which a pub/sub event is received) from any rooms that they're currently in. These
    operations will require more resources, and might introduce a significant slow-down of services on systems with many
    thousands of users and/or rooms.
</p>
<p>
    This plugin is heavily inspired, and aspires to be compatible with, <a href="https://modules.prosody.im/mod_muc_rtbl.html">Prosody's mod_muc_rtbl</a>
</p>

<h2>Installation</h2>

<p>
    Copy mucrtbl.jar into the plugins directory of your Openfire installation.
    The plugin will then be automatically deployed. To upgrade to a new version,
    copy the new mucrtbl.jar file over the existing file.
</p>

<h2>Configuration</h2>

<p>
    Once loaded, the plugin will add a page to the Openfire Admin Console, under
    <tt>Group Chat &gt; Group Chat Settings &gt; Real-time Block List</tt>. This page can be used
    to configure the plugin.
</p>

<p>
    The default configuration of the plugin will cause it to use the block list that is advertised on the
    <a href="https://xmppbl.org/">xmppbl.org</a> domain.
</p>

<h2>Attribution</h2>
<p>
    <a href="https://www.flaticon.com/free-icons/block" title="block icons">Block icons created by Those Icons - Flaticon</a>
</p>

</body>
</html>
